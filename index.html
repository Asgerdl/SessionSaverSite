<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimizable Windows Example</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }
        /* --- Window Styles --- */
        .window {
            /* Basic positioning and size */
            position: absolute;
            width: 300px;
            height: 200px;
            min-width: 200px;
            min-height: 100px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border: 1px solid #ccc;
            background-color: #fff;
            /* Resizing handle */
            resize: both;
            overflow: auto; /* Allows content to scroll if window is resized smaller */
        }

        .window-header {
            background-color: #007bff;
            color: white;
            padding: 5px 10px;
            cursor: grab; /* Indicates the header can be used to drag */
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none; /* Prevents text selection while dragging */
        }

        .window-title {
            font-weight: bold;
        }

        .window-controls button {
            background: none;
            border: none;
            color: white;
            font-size: 16px;
            margin-left: 5px;
            cursor: pointer;
            padding: 0 5px;
            line-height: 1; /* Aligns the icon/text */
        }

        .window-content {
            padding: 10px;
            overflow-y: auto;
            max-height: calc(100% - 30px); /* Adjust based on header height */
            /* The 'minimized' class will override this */
        }
        
        /* --- Minimized State --- */
        .window.minimized {
            height: auto !important; /* Forces the window to only be the size of the header */
            width: 300px; /* Keep a consistent width when minimized */
            min-height: 30px;
            resize: none !important;
            overflow: hidden !important;
        }
        .window.minimized .window-content {
            display: none;
        }
    </style>
</head>
<body>

<div id="window1" class="window" style="top: 50px; left: 50px;">
    <div class="window-header">
        <span class="window-title">Window Alpha</span>
        <div class="window-controls">
            <button onclick="toggleMinimize('window1')">_</button>
        </div>
    </div>
    <div class="window-content">
        <p>This is the first window. It contains some placeholder content.</p>
        <p>Aliquid est, non sit ad. Qui reiciendis in, non velit rerum vitae.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
    </div>
</div>

<div id="window2" class="window" style="top: 80px; left: 380px;">
    <div class="window-header">
        <span class="window-title">Window Beta</span>
        <div class="window-controls">
            <button onclick="toggleMinimize('window2')">_</button>
        </div>
    </div>
    <div class="window-content">
        <p>Window number two, chilling out.</p>
        <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        <p>Random text for modification later: 12345 ABCDE</p>
    </div>
</div>

<div id="window3" class="window" style="top: 110px; left: 710px;">
    <div class="window-header">
        <span class="window-title">Window Gamma</span>
        <div class="window-controls">
            <button onclick="toggleMinimize('window3')">_</button>
        </div>
    </div>
    <div class="window-content">
        <p>The third and final identical window.</p>
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident.</p>
        <p>Remember to update this content to your actual site text!</p>
    </div>
</div>

<script>
    /**
     * Toggles the 'minimized' class on the window element.
     * @param {string} windowId - The ID of the window element.
     */
    function toggleMinimize(windowId) {
        const windowElement = document.getElementById(windowId);
        windowElement.classList.toggle('minimized');
    }

    /**
     * Makes a window draggable by its header.
     * @param {HTMLElement} windowElement - The window element.
     * @param {HTMLElement} headerElement - The header element used for dragging.
     */
    function makeDraggable(windowElement, headerElement) {
        let offsetX, offsetY, isDragging = false;

        headerElement.addEventListener('mousedown', (e) => {
            // Prevent dragging if the window is minimized
            if (windowElement.classList.contains('minimized')) return;

            isDragging = true;
            headerElement.style.cursor = 'grabbing';
            // Calculate mouse position relative to the element
            offsetX = e.clientX - windowElement.offsetLeft;
            offsetY = e.clientY - windowElement.offsetTop;
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            
            // Calculate new position
            let newX = e.clientX - offsetX;
            let newY = e.clientY - offsetY;

            // Constrain movement to be within the viewport
            newX = Math.max(0, newX);
            newY = Math.max(0, newY);
            newX = Math.min(newX, window.innerWidth - windowElement.offsetWidth);
            newY = Math.min(newY, window.innerHeight - windowElement.offsetHeight);

            windowElement.style.left = newX + 'px';
            windowElement.style.top = newY + 'px';
        });

        document.addEventListener('mouseup', () => {
            if (isDragging) {
                isDragging = false;
                headerElement.style.cursor = 'grab';
            }
        });
    }

    // Initialize dragging for each window
    document.addEventListener('DOMContentLoaded', () => {
        const window1 = document.getElementById('window1');
        const header1 = window1.querySelector('.window-header');
        makeDraggable(window1, header1);

        const window2 = document.getElementById('window2');
        const header2 = window2.querySelector('.window-header');
        makeDraggable(window2, header2);

        const window3 = document.getElementById('window3');
        const header3 = window3.querySelector('.window-header');
        makeDraggable(window3, header3);
    });
</script>

</body>
</html>